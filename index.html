<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>BBC Arabic Live - MPEG-DASH</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.3.6/shaka-player.compiled.js"></script>
  </head>
  <body>
    <h2>BBC Arabic Live بث مباشر</h2>
    <video id="video" width="720" height="406" controls autoplay></video>

    <script>
      async function initPlayer() {
        const video = document.getElementById('video');
        const player = new shaka.Player(video);

        // رابط البث بصيغة .mpd
        const manifestUri = "https://vs-cmaf-pushb-ww-live.akamaized.net/x=4/i=urn:bbc:pips:service:bbc_arabic_tv/mobile_wifi_main_hd_abr_v2.mpd";

        try {
          await player.load(manifestUri);
          console.log("تم تشغيل البث بنجاح");
        } catch (e) {
          console.error("خطأ أثناء تشغيل البث:", e);
        }
      }

      // تأكد من دعم المتصفح
      if (shaka.Player.isBrowserSupported()) {
        initPlayer();
      } else {
        alert("متصفحك لا يدعم MPEG-DASH عبر Shaka Player");
      }
    </script>
  </body>
</html>
